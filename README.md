# Краулер для Зюзюбликов

Это проект, представляющий собой Telegram-бота для расширения функционала краулера (сборщика информации) по продаже зюзюбликов. Бот позволяет добавлять сайты для парсинга посредством загрузки Excel-файла, содержащего данные с полями:

- **title** – название
- **url** – ссылка на сайт-источник
- **xpath** – путь к элементу с ценой

После загрузки файла бот:
1. Сохраняет файл.
2. Открывает его библиотекой **pandas**.
3. Выводит содержимое файла в сообщении (в виде таблицы).
4. Сохраняет данные в локальную базу данных SQLite.

После этого бот осуществляется парсинг сайтов, вычисляется средняя цена зюзюблика по каждому сайту, и результаты добавляются в БД и выводятся в чате бота.

## Содержание

- [Требования](#требования)
- [Установка](#установка)
  - [Клонирование репозитория](#клонирование-репозитория)
  - [Установка зависимостей](#установка-зависимостей)
- [Конфигурация](#конфигурация)
- [Запуск бота](#запуск-бота)
- [Примеры данных для таблицы](#примеры-данных-для-таблицы)
- [Контакты и ссылки](#контакты-и-ссылки)

## Требования

- Python 3.8 или выше
- Токен Telegram-бота (получите через [BotFather](https://t.me/BotFather))
- Установленные пакеты Python (см. ниже список зависимостей)

## Установка

### Клонирование репозитория

Откройте терминал и выполните следующие команды:

```bash
git clone https://github.com/yourusername/your-repository.git
cd your-repository
```

### Установка зависимостей

Я использовал `pip` и файл [requirements.txt].

1. Создайте виртуальное окружение (рекомендуется):

```bash
python -m venv .venv
source .venv/bin/activate   # для Linux/MacOS
.\.venv\Scripts\activate    # для Windows
```
2. Установите зависимости:

```bash
pip install -r requirements.txt
```

## Конфигурация
Создайте файл .env в корне проекта (или используйте другой механизм для передачи переменных окружения). Пример содержимого:

```env
BOT_TOKEN="0000000000:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
```

## Запуск бота
После установки зависимостей и настройки конфигурации можно запустить бота следующей командой:
```bash
python main.py
```

## Примеры данных для таблицы
```txt
   title          url                                            xpath
0  lamoda         https://www.lamoda.ru/b/34285/brand-adidasy3/  //span[starts-with(@class,"x-product-card") and not(contains(@class,"price-old"))]//text()
1  spb-adidas     https://spb-adidas.ru/y3/                      //span[@class="price-new"]//text()
2  adidas-moscow  https://adidas-moscow.ru/y3/                   //span[@class="price-new"]//text()
```


## Контакты и ссылки
Мой telegram: @Sova_y
Бот: @tt_tehnezis_bot